<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MEmilio: MEmilio C++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MEmilio
   &#160;<span id="projectnumber">0.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">MEmilio C++ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The MEmilio C++ library contains the implementation of the epidemiological models.</p>
<p>Directory structure:</p><ul>
<li>memilio: framework for developing epidemiological models with, e.g., interregional mobility implementations, nonpharmaceutical interventions (NPIs), and mathematical, programming, and IO utilities.</li>
<li>models: implementation of concrete models (ODE and ABM)</li>
<li>simulations: simulation applications that were used to generate the scenarios and data for publications</li>
<li>examples: small applications that help with using the framework and models</li>
<li>tests: unit tests for framework and models.</li>
<li>cmake: build utility code</li>
<li>thirdparty: configuration of dependencies</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Requirements</h1>
<p>MEmilio C++ uses CMake as a build configuration system (<a href="https://cmake.org/">https://cmake.org/</a>)</p>
<p>MEmilio C++ is regularly tested with the following compilers (list will be extended over time):</p><ul>
<li>GCC, versions 7.3.0 - 10.2.0</li>
<li>Clang, version 9.0</li>
<li>MSVC, versions 19.16.27045.0 (Visual Studio 2017) - 19.29.30133.0 (Visual Studio 2019)</li>
</ul>
<p>MEmilio C++ is regularly tested on gitlub runners using Ubuntu 18.04 and 20.04 and Windows Server 2016 and 2019. It is expected to run on any comparable Linux or Windows system. It is currently not tested on MacOS.</p>
<p>The following table lists the dependencies that are used. Most of them are required, but some are optional. The library can be used without them but with slightly reduced features. CMake will warn about them during configuration. Most of them are bundled with this library and do not need to be installed manually. Bundled libraries are either included with this project or loaded from the web on demand. For each dependency, there is a CMake option to use an installed version instead. Version compatibility needs to be ensured by the user, the version we currently use is included in the table.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Library   </th><th class="markdownTableHeadNone">Version   </th><th class="markdownTableHeadNone">Required   </th><th class="markdownTableHeadNone">Bundled   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">spdlog   </td><td class="markdownTableBodyNone">1.11.0   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Yes (git repo)   </td><td class="markdownTableBodyNone"><a href="https://github.com/gabime/spdlog">https://github.com/gabime/spdlog</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Eigen   </td><td class="markdownTableBodyNone">3.3.9   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Yes (git repo)   </td><td class="markdownTableBodyNone"><a href="http://gitlab.com/libeigen/eigen">http://gitlab.com/libeigen/eigen</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Boost   </td><td class="markdownTableBodyNone">1.75.0   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Yes (.tar.gz archive)   </td><td class="markdownTableBodyNone"><a href="https://www.boost.org/">https://www.boost.org/</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">JsonCpp   </td><td class="markdownTableBodyNone">1.9.5   </td><td class="markdownTableBodyNone">No   </td><td class="markdownTableBodyNone">Yes (git repo)   </td><td class="markdownTableBodyNone"><a href="https://github.com/open-source-parsers/jsoncpp">https://github.com/open-source-parsers/jsoncpp</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HDF5   </td><td class="markdownTableBodyNone">1.12.0   </td><td class="markdownTableBodyNone">No   </td><td class="markdownTableBodyNone">No   </td><td class="markdownTableBodyNone"><a href="https://www.hdfgroup.org/">https://www.hdfgroup.org/</a>, package libhdf5-dev on apt (Ubuntu)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GoogleTest   </td><td class="markdownTableBodyNone">1.10   </td><td class="markdownTableBodyNone">For Tests only   </td><td class="markdownTableBodyNone">Yes (git repo)   </td><td class="markdownTableBodyNone"><a href="https://github.com/google/googletest">https://github.com/google/googletest</a>   </td></tr>
</table>
<p>See the thirdparty directory for more details.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Installation</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Configuring using CMake</h2>
<p>To configure with default options: </p><div class="fragment"><div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake ..</div>
</div><!-- fragment --><p>Options can be specified with <code>cmake .. -D&lt;OPTION&gt;=&lt;VALUE&gt;</code> or by editing the <code>build/CMakeCache.txt</code> file after running cmake. The following options are known to the library:</p><ul>
<li><code>MEMILIO_BUILD_TESTS</code>: build unit tests in the test directory, ON or OFF, default ON.</li>
<li><code>MEMILIO_BUILD_EXAMPLES</code>: build the example applications in the examples directory, ON or OFF, default ON.</li>
<li><code>MEMILIO_BUILD_MODELS</code>: build the separate model libraries in the models directory, ON or OFF, default ON.</li>
<li><code>MEMILIO_BUILD_SIMULATIONS</code>: build the simulation applications in the simulations directory, ON or OFF, default ON.</li>
<li><code>MEMILIO_USE_BUNDLED_SPDLOG/_BOOST/_EIGEN/_JSONCPP</code>: use the corresponding dependency bundled with this project, ON or OFF, default ON.</li>
<li><code>MEMILIO_BUILD_BENCHMARKS</code>: build the benchmarks for this project, ON or OFF, default OFF.</li>
<li><code>MEMILIO_SANITIZE_ADDRESS/_UNDEFINED</code>: compile with specified sanitizers to check correctness, ON or OFF, default OFF.</li>
</ul>
<p>Other important options may need:</p><ul>
<li><code>CMAKE_BUILD_TYPE</code>: controls compiler optimizations and diagnostics, Debug, Release, or RelWithDebInfo; not available for Multi-Config CMake Generators like Visual Studio, set the build type in the IDE or when running the compiler.</li>
<li><code>CMAKE_INSTALL_PREFIX</code>: controls the location where the project will be installed</li>
<li><code>HDF5_DIR</code>: if you have HDF5 installed but it is not found by CMake (usually on the Windows OS), you may have to set this option to the directory in your installation that contains the <code>hdf5-config.cmake</code> file.</li>
</ul>
<p>To e.g. configure the build without unit tests and with a specific version of HDF5: </p><div class="fragment"><div class="line">cmake .. -DMEMILIO_BUILD_TESTS=OFF -DHDF5_DIR=/home/xyz/share/hdf5</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
Making the library</h2>
<p>After configuring, make the library using cmake: </p><div class="fragment"><div class="line">cmake --build .</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
Running the tests or examples</h2>
<p>Run the unittests with: </p><div class="fragment"><div class="line">./bin/memilio-test</div>
</div><!-- fragment --><p>Run an example with: </p><div class="fragment"><div class="line">./bin/secir-example</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
Installing</h2>
<p>Install the project at the location given in the <code>CMAKE_INSTALL_PREFIX</code> variable with: </p><div class="fragment"><div class="line">cmake --install .</div>
</div><!-- fragment --><p> This will install the libraries, headers, and executables that were built, i.e. where <code>MEMILIO_BUILD_&lt;PART&gt;=ON</code>.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Using the libraries in your project</h2>
<p>Using CMake, integration is simple.</p>
<p>If you installed the project, there is a <code>memilio-config.cmake</code> file included with your installation. This config file will tell CMake which libraries and directores have to be included. Look up the config using the command <code>find_package(memilio)</code> in your own <code>CMakeLists.txt</code>. On Linux, the file should be found automatically if you installed in the normal GNU directories. Otherwise, or if you are working on Windows, you have to specify the <code>memilio_DIR</code> variable when running CMake to point it to the <code>memilio-config.cmake</code> file. Add the main framework as a dependency with the command <code>target_link_libraries(&lt;your target&gt; PRIVATE memilio::memilio)</code>. Other targets that are exported are <code>memilio::secir</code>, <code>memilio::seir</code>, and <code>memilio::abm</code>. This will set all required include directories and libraries, even transitive ones.</p>
<p>Alternatively, <code>MEmilio</code> can be integrated as a subdirectory of your project with <code>add_subdirectory(memilio/cpp)</code>, then you can use the same <code>target_link_libraries</code> command as above.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Known Issues</h1>
<ul>
<li>Installing currently is not tested and probably does not work as expected or at all. If you want to integrate the project into yours, use the <code>add_subdirectory</code> way.</li>
<li>On Windows, automatic detection of HDF5 installations does not work reliably. If you get HDF5 related errors during the build, you may have to supply the HDF5_DIR variable during CMake configuration, see above. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
