<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MEmilio: memilio.epidata.getPopulationData Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MEmilio
   &#160;<span id="projectnumber">0.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>memilio</b></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata.html">epidata</a></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html">getPopulationData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">memilio.epidata.getPopulationData Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a96f0f7f59f1f85f6be39df0b4dda66b4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a96f0f7f59f1f85f6be39df0b4dda66b4">assign_population_data</a> (df_pop_raw, counties, age_cols, idCounty_idx)</td></tr>
<tr class="memdesc:a96f0f7f59f1f85f6be39df0b4dda66b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns population data of all counties of old dataframe in new created dataframe.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a96f0f7f59f1f85f6be39df0b4dda66b4">More...</a><br /></td></tr>
<tr class="separator:a96f0f7f59f1f85f6be39df0b4dda66b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c4316be63f65819f980f453f1ef24bf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a0c4316be63f65819f980f453f1ef24bf">export_population_dataframe</a> (df_pop, directory, file_format, merge_eisenach)</td></tr>
<tr class="memdesc:a0c4316be63f65819f980f453f1ef24bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes population dataframe into directory with new column names and age groups.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a0c4316be63f65819f980f453f1ef24bf">More...</a><br /></td></tr>
<tr class="separator:a0c4316be63f65819f980f453f1ef24bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f50c9908cd077878e92695eff9c2849"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a9f50c9908cd077878e92695eff9c2849">get_population_data</a> (read_data=dd.defaultDict['read_data'], file_format=dd.defaultDict['file_format'], out_folder=dd.defaultDict['out_folder'], no_raw=dd.defaultDict['no_raw'], merge_eisenach=True, username='', password='')</td></tr>
<tr class="memdesc:a9f50c9908cd077878e92695eff9c2849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Download age-stratified population data for the German counties.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a9f50c9908cd077878e92695eff9c2849">More...</a><br /></td></tr>
<tr class="separator:a9f50c9908cd077878e92695eff9c2849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c78642cd90d33be2bff3e1f842ecaf2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a9c78642cd90d33be2bff3e1f842ecaf2">main</a> ()</td></tr>
<tr class="memdesc:a9c78642cd90d33be2bff3e1f842ecaf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program entry.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a9c78642cd90d33be2bff3e1f842ecaf2">More...</a><br /></td></tr>
<tr class="separator:a9c78642cd90d33be2bff3e1f842ecaf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e312f4b04cc3f72953d6bef99e797ef"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a0e312f4b04cc3f72953d6bef99e797ef">read_population_data</a> (username, password, read_data, directory)</td></tr>
<tr class="memdesc:a0e312f4b04cc3f72953d6bef99e797ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads Population data either from regionalstatistik.de or from directory.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a0e312f4b04cc3f72953d6bef99e797ef">More...</a><br /></td></tr>
<tr class="separator:a0e312f4b04cc3f72953d6bef99e797ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3788e37bd5d5adcec9958d6e780769d1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a3788e37bd5d5adcec9958d6e780769d1">test_total_population</a> (df_pop, age_cols)</td></tr>
<tr class="memdesc:a3788e37bd5d5adcec9958d6e780769d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if total population matches expectation.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a3788e37bd5d5adcec9958d6e780769d1">More...</a><br /></td></tr>
<tr class="separator:a3788e37bd5d5adcec9958d6e780769d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a96f0f7f59f1f85f6be39df0b4dda66b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f0f7f59f1f85f6be39df0b4dda66b4">&#9670;&nbsp;</a></span>assign_population_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.assign_population_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df_pop_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>counties</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>age_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>idCounty_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns population data of all counties of old dataframe in new created dataframe. </p>
<p>In df_pop_raw there might be additional information like federal states, governing regions etc. which is not necessary for the dataframe. Also checks for incomplete data. <br  />
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df_pop_raw</td><td>Raw Population DataFrame read from regionalstatistik.de </td></tr>
    <tr><td class="paramname">counties</td><td>List of counties to be assigned in new DataFrame </td></tr>
    <tr><td class="paramname">age_cols</td><td>Age groups in old DataFrame </td></tr>
    <tr><td class="paramname">idCountyidx</td><td>indexes in old DataFrame where data of corresponding county starts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new DataFrame </dd></dl>

</div>
</div>
<a id="a0c4316be63f65819f980f453f1ef24bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c4316be63f65819f980f453f1ef24bf">&#9670;&nbsp;</a></span>export_population_dataframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.export_population_dataframe </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df_pop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>merge_eisenach</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes population dataframe into directory with new column names and age groups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df_pop</td><td>Population data DataFrame to be exported </td></tr>
    <tr><td class="paramname">directory</td><td>Directory where data is written to. </td></tr>
    <tr><td class="paramname">file_format</td><td>File format which is used for writing the data. </td></tr>
    <tr><td class="paramname">merge_eisenach</td><td>Defines whether the counties 'Wartburgkreis' and 'Eisenach' are listed separately or combined as one entity 'Wartburgkreis'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>exported DataFrame </dd></dl>

</div>
</div>
<a id="a9f50c9908cd077878e92695eff9c2849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f50c9908cd077878e92695eff9c2849">&#9670;&nbsp;</a></span>get_population_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.get_population_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>read_data</em> = <code>dd.defaultDict['read_data']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_format</em> = <code>dd.defaultDict['file_format']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>out_folder</em> = <code>dd.defaultDict['out_folder']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>no_raw</em> = <code>dd.defaultDict['no_raw']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>merge_eisenach</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>username</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>password</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Download age-stratified population data for the German counties. </p>
<p>The data we use is: Official 'Bevölkerungsfortschreibung' 12411-02-03-4: 'Bevölkerung nach Geschlecht und Altersgruppen (17)' of regionalstatistik.de. ATTENTION: The raw file cannot be downloaded automatically by our scripts without an Genesis Online account. In order to work on this dataset, please enter your username and password or manually download it from:</p>
<p><a href="https://www.regionalstatistik.de/genesis/online">https://www.regionalstatistik.de/genesis/online</a> -&gt; "1: Gebiet, Bevölkerung,
    Arbeitsmarkt, Wahlen" -&gt; "12: Bevölkerung" -&gt; "12411 Fortschreibung des
    Bevölkerungsstandes" -&gt; "12411-02-03-4: Bevölkerung nach Geschlecht und Altersgruppen (17) - Stichtag 31.12. - regionale Tiefe: Kreise und krfr. Städte".</p>
<p>Download the xlsx or csv file and put it under dd.defaultDict['out_folder'], this normally is Memilio/data/pydata/Germany. The folders 'pydata/Germany' have to be created if they do not exist yet. Then this script can be run.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">read_data</td><td>False or True. Defines if data is read from file or downloaded. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">file_format</td><td>File format which is used for writing the data. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">out_folder</td><td>Path to folder where data is written in folder out_folder/Germany. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">no_raw</td><td>True or False. Defines if unchanged raw data is written or not. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. Currently not used. </td></tr>
    <tr><td class="paramname">merge_eisenach</td><td>[Default: True] or False. Defines whether the counties 'Wartburgkreis' and 'Eisenach' are listed separately or combined as one entity 'Wartburgkreis'. </td></tr>
    <tr><td class="paramname">username</td><td>Username to sign in at regionalstatistik.de. </td></tr>
    <tr><td class="paramname">password</td><td>Password to sign in at regionalstatistik.de. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DataFrame with adjusted population data for all ages to current level. </dd></dl>

</div>
</div>
<a id="a9c78642cd90d33be2bff3e1f842ecaf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c78642cd90d33be2bff3e1f842ecaf2">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main program entry. </p>

</div>
</div>
<a id="a0e312f4b04cc3f72953d6bef99e797ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e312f4b04cc3f72953d6bef99e797ef">&#9670;&nbsp;</a></span>read_population_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.read_population_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>read_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>directory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads Population data either from regionalstatistik.de or from directory. </p>
<p>A request is made using the twill package. Username and Password are required to sign in on regionalstatistik.de. After the sign twill navigates to the file to download.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>Username to sign in at regionalstatistik.de. </td></tr>
    <tr><td class="paramname">password</td><td>Password to sign in at regionalstatistik.de. </td></tr>
    <tr><td class="paramname">read_data</td><td>False or True. Defines if data is read from file or downloaded. </td></tr>
    <tr><td class="paramname">directory</td><td>Path to folder where data is read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DataFrame </dd></dl>

</div>
</div>
<a id="a3788e37bd5d5adcec9958d6e780769d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3788e37bd5d5adcec9958d6e780769d1">&#9670;&nbsp;</a></span>test_total_population()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.test_total_population </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df_pop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>age_cols</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests if total population matches expectation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df_pop</td><td>Population Dataframe with all counties </td></tr>
    <tr><td class="paramname">age_cols</td><td>All age groups in DataFrame </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
