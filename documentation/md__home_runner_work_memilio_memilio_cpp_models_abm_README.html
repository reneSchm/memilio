<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MEmilio: Agent Based Model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MEmilio
   &#160;<span id="projectnumber">0.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Agent Based Model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This module models and simulates the epidemic using an agent based model (<em>ABM</em>) approach. Unlike the SECIR compartment model that uses an ODE, this model simulates the spread of COVID19 in a population with actual persons (the agents) moving throughout the world and interacting with each other.</p>
<h1><a class="anchor" id="autotoc_md29"></a>
Structure</h1>
<p>The model consists of the following major classes:</p><ol type="1">
<li>Person: represents the agents of the model. A person has an assigned infection state (similar to the compartments of the SECIR model) and location.</li>
<li>Location: represents locations in the world where people meet and interact, e.g. home, school, work, social events.</li>
<li>World: collection of all persons and locations.</li>
<li>Simulation: run the simulation and store results.</li>
</ol>
<h1><a class="anchor" id="autotoc_md30"></a>
Simulation</h1>
<p>The simulation runs in discrete time steps. Each step is in two phases, an interaction phase and a migration phase.</p>
<p>First each person interacts with the other persons at the same location. This interaction determines their infection state transitions. A susceptible person may become exposed by contact with an infected person without symptoms. The probability of infection depends on a multitude of factors, such as the viral load and infectiousness of the infectee and the immunity level of the susceptible person.</p>
<p>During the migration phase, each person may change location. Migration follows complex rules, taking into account the current location, time of day, and properties of the person (e.g. age). Some location changes are deterministic and regular (e.g. going to work), others are random (e.g. going to shopping or to a social event in the evening/on the weekend).</p>
<p>The result of the simulation is for each time step the count of persons in each infection state at that time.</p>
<h1><a class="anchor" id="autotoc_md31"></a>
Example</h1>
<p>An example can also be found at simulations/abm.cpp </p><div class="fragment"><div class="line">//setup the infection parameters</div>
<div class="line">mio::abm::GlobalInfectionParameters params;</div>
<div class="line">params.incubation_period = 4.7;</div>
<div class="line">//...</div>
<div class="line"> </div>
<div class="line">//create the world with some nodes and persons</div>
<div class="line">mio::abm::World world = mio::abm::World(params);</div>
<div class="line">mio::abm::Location&amp; home = world.add_location(mio::abm::LocationType::Home);</div>
<div class="line">mio::abm::Location&amp; school = world.add_location(mio::abm::LocationType::School);</div>
<div class="line">mio::abm::Location&amp; work = world.add_location(mio::abm::LocationType::Work);</div>
<div class="line">mio::abm::Person&amp; p1 = world.add_person(home, mio::abm::InfectionState::Susceptible);</div>
<div class="line">mio::abm::Person&amp; p2 = world.add_person(home, mio::abm::InfectionState::Susceptible);</div>
<div class="line">mio::abm::Person&amp; p3 = world.add_person(home, mio::abm::InfectionState::InfectedNoSymptoms);</div>
<div class="line">mio::abm::Person&amp; p4 = world.add_person(home, mio::abm::InfectionState::Susceptible);</div>
<div class="line"> </div>
<div class="line">//setup the simulation</div>
<div class="line">double t0   = 0;</div>
<div class="line">double tmax = 100;</div>
<div class="line">mio::abm::Simulation sim  = mio::abm::Simulation(t0, std::move(world));</div>
<div class="line"> </div>
<div class="line">sim.advance(tmax);</div>
<div class="line"> </div>
<div class="line">//handle result</div>
<div class="line">mio::TimeSeries&lt;double&gt;&amp; result = sim.get_result();</div>
<div class="line">//...</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
