<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MEmilio: memilio.epidata.getCaseData Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MEmilio
   &#160;<span id="projectnumber">0.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>memilio</b></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata.html">epidata</a></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata_1_1getCaseData.html">getCaseData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">memilio.epidata.getCaseData Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae47d778503a45e62fa880cab83f98aa9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getCaseData.html#ae47d778503a45e62fa880cab83f98aa9">check_for_completeness</a> (df, merge_berlin=False, merge_eisenach=True)</td></tr>
<tr class="memdesc:ae47d778503a45e62fa880cab83f98aa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if all counties are mentioned in the case data set.  <a href="namespacememilio_1_1epidata_1_1getCaseData.html#ae47d778503a45e62fa880cab83f98aa9">More...</a><br /></td></tr>
<tr class="separator:ae47d778503a45e62fa880cab83f98aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a172fae4acbc9773984319fc15d70402f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getCaseData.html#a172fae4acbc9773984319fc15d70402f">get_case_data</a> (read_data=dd.defaultDict['read_data'], file_format=dd.defaultDict['file_format'], out_folder=dd.defaultDict['out_folder'], no_raw=dd.defaultDict['no_raw'], start_date=date(2020, 1, 1), end_date=dd.defaultDict['end_date'], impute_dates=dd.defaultDict['impute_dates'], moving_average=dd.defaultDict['moving_average'], make_plot=dd.defaultDict['make_plot'], split_berlin=dd.defaultDict['split_berlin'], rep_date=dd.defaultDict['rep_date'], files='All')</td></tr>
<tr class="memdesc:a172fae4acbc9773984319fc15d70402f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downloads the case data and provides different kind of structured data.  <a href="namespacememilio_1_1epidata_1_1getCaseData.html#a172fae4acbc9773984319fc15d70402f">More...</a><br /></td></tr>
<tr class="separator:a172fae4acbc9773984319fc15d70402f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a870a008c6aea7a1ebef740c648bbe"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getCaseData.html#ac4a870a008c6aea7a1ebef740c648bbe">main</a> ()</td></tr>
<tr class="memdesc:ac4a870a008c6aea7a1ebef740c648bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program entry.  <a href="namespacememilio_1_1epidata_1_1getCaseData.html#ac4a870a008c6aea7a1ebef740c648bbe">More...</a><br /></td></tr>
<tr class="separator:ac4a870a008c6aea7a1ebef740c648bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae47d778503a45e62fa880cab83f98aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae47d778503a45e62fa880cab83f98aa9">&#9670;&nbsp;</a></span>check_for_completeness()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getCaseData.check_for_completeness </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>merge_berlin</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>merge_eisenach</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if all counties are mentioned in the case data set. </p>
<p>This check had to be added due to incomplete data downloads It is checked if all all counties are part of the data. If data is incomplete the data is downloaded from another source. Note: There is no check if data for every day and every county is available (which can happen).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df</td><td>pandas dataframe to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean to say if data is complete or not </dd></dl>

</div>
</div>
<a id="a172fae4acbc9773984319fc15d70402f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a172fae4acbc9773984319fc15d70402f">&#9670;&nbsp;</a></span>get_case_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getCaseData.get_case_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>read_data</em> = <code>dd.defaultDict['read_data']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_format</em> = <code>dd.defaultDict['file_format']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>out_folder</em> = <code>dd.defaultDict['out_folder']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>no_raw</em> = <code>dd.defaultDict['no_raw']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start_date</em> = <code>date(2020,&#160;1,&#160;1)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>end_date</em> = <code>dd.defaultDict['end_date']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>impute_dates</em> = <code>dd.defaultDict['impute_dates']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>moving_average</em> = <code>dd.defaultDict['moving_average']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>make_plot</em> = <code>dd.defaultDict['make_plot']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>split_berlin</em> = <code>dd.defaultDict['split_berlin']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rep_date</em> = <code>dd.defaultDict['rep_date']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>files</em> = <code>'All'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Downloads the case data and provides different kind of structured data. </p>
<p>The data is read either from the internet or from a json file (CaseDataFull.json), stored in an earlier run. If the data is read from the internet, before changing anything the data is stored in CaseDataFull.json. If data should be downloaded, it is checked if data contains all counties. If not a different source is tried. The file is read in or stored at the folder "out_folder"/Germany/. To store and change the data we use pandas.</p>
<p>While working with the data</p><ul>
<li>the column names are changed to english depending on <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a></li>
<li>a new column "Date" is defined.</li>
<li>we are only interested in the values where the parameter NeuerFall, NeuerTodesfall, NeuGenesen are larger than 0. The values, when these parameters are negative are just useful, if one would want to get the difference to the previous day. For details we refer to the above mentioned webpage.</li>
<li>For all different parameters and different columns the values are added up for whole germany for every date and the cumulative sum is calculated. Unless something else is mentioned.</li>
<li>For Berlin all districts can be merged into one [Default]. Otherwise, Berlin is divided into multiple districts and different file names are used.</li>
<li>Following data is generated and written to the mentioned filename<ul>
<li>All infected (current and past) for whole germany are stored in "cases_infected"</li>
<li>All deaths whole germany are stored in "cases_deaths"</li>
<li>Infected, deaths and recovered for whole germany are stored in "cases_all_germany"</li>
<li>Infected split for states are stored in "cases_infected_state"</li>
<li>Infected, deaths and recovered split for states are stored in "cases_all_state"</li>
<li>Infected split for counties are stored in "cases_infected_county(_split_berlin)"</li>
<li>Infected, deaths and recovered split for county are stored in "cases_all_county(_split_berlin)"</li>
<li>Infected, deaths and recovered split for gender are stored in "cases_all_gender"</li>
<li>Infected, deaths and recovered split for state and gender are stored in "cases_all_state_gender"</li>
<li>Infected, deaths and recovered split for county and gender are stored in "cases_all_county_gender(_split_berlin)"</li>
<li>Infected, deaths and recovered split for age are stored in "cases_all_age"</li>
<li>Infected, deaths and recovered split for state and age are stored in "cases_all_state_age"</li>
<li>Infected, deaths and recovered split for county and age are stored in "cases_all_county_age(_split_berlin)"</li>
</ul>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">read_data</td><td>True or False. Defines if data is read from file or downloaded. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">file_format</td><td>File format which is used for writing the data. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">out_folder</td><td>Folder where data is written to. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">no_raw</td><td>True or False. Defines if unchanged raw data is saved or not. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">start_date</td><td>Date of first date in dataframe. Default 2020-01-01. </td></tr>
    <tr><td class="paramname">end_date</td><td>Date of last date in dataframe. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">impute_dates</td><td>True or False. Defines if values for dates without new information are imputed. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">moving_average</td><td>Integers &gt;=0. Applies an 'moving_average'-days moving average on all time series to smooth out effects of irregular reporting. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">make_plot</td><td>True or False. Defines if plots are generated with matplotlib. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">split_berlin</td><td>True or False. Defines if Berlin's disctricts are kept separated or get merged. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">rep_date</td><td>True or False. Defines if reporting date or reference date is taken into dataframe. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">files</td><td>List of strings or 'All' or 'Plot'. Defnies which files should be provided (and plotted). Default 'All'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac4a870a008c6aea7a1ebef740c648bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4a870a008c6aea7a1ebef740c648bbe">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getCaseData.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main program entry. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
