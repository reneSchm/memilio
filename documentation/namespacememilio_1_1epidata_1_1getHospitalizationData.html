<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MEmilio: memilio.epidata.getHospitalizationData Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MEmilio
   &#160;<span id="projectnumber">0.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>memilio</b></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata.html">epidata</a></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata_1_1getHospitalizationData.html">getHospitalizationData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">memilio.epidata.getHospitalizationData Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a351619c57327b83d0c488650a6c3bcec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getHospitalizationData.html#a351619c57327b83d0c488650a6c3bcec">get_hospitailzations_per_day</a> (seven_days_values)</td></tr>
<tr class="memdesc:a351619c57327b83d0c488650a6c3bcec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the daily cases of hospitalizations from the seven day sum.  <a href="namespacememilio_1_1epidata_1_1getHospitalizationData.html#a351619c57327b83d0c488650a6c3bcec">More...</a><br /></td></tr>
<tr class="separator:a351619c57327b83d0c488650a6c3bcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa150b040cd2bd288b61c2598042b20fd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getHospitalizationData.html#aa150b040cd2bd288b61c2598042b20fd">get_hospitalization_data</a> (read_data=dd.defaultDict['read_data'], file_format=dd.defaultDict['file_format'], out_folder=dd.defaultDict['out_folder'], no_raw=dd.defaultDict['no_raw'], start_date=dd.defaultDict['start_date'], end_date=dd.defaultDict['end_date'], impute_dates=dd.defaultDict['impute_dates'], moving_average=dd.defaultDict['moving_average'], make_plot=dd.defaultDict['make_plot'])</td></tr>
<tr class="memdesc:aa150b040cd2bd288b61c2598042b20fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downloads or reads the RKI hospitalization data and writes them in different files.  <a href="namespacememilio_1_1epidata_1_1getHospitalizationData.html#aa150b040cd2bd288b61c2598042b20fd">More...</a><br /></td></tr>
<tr class="separator:aa150b040cd2bd288b61c2598042b20fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd86bfafb86081c48b6e92d1f155caf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getHospitalizationData.html#a3cd86bfafb86081c48b6e92d1f155caf">hospit_sanity_checks</a> (df)</td></tr>
<tr class="memdesc:a3cd86bfafb86081c48b6e92d1f155caf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the sanity of the hospitalization_data dataframe.  <a href="namespacememilio_1_1epidata_1_1getHospitalizationData.html#a3cd86bfafb86081c48b6e92d1f155caf">More...</a><br /></td></tr>
<tr class="separator:a3cd86bfafb86081c48b6e92d1f155caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add526d215166b92c6c064815afc3c59c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getHospitalizationData.html#add526d215166b92c6c064815afc3c59c">main</a> ()</td></tr>
<tr class="memdesc:add526d215166b92c6c064815afc3c59c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program entry.  <a href="namespacememilio_1_1epidata_1_1getHospitalizationData.html#add526d215166b92c6c064815afc3c59c">More...</a><br /></td></tr>
<tr class="separator:add526d215166b92c6c064815afc3c59c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a351619c57327b83d0c488650a6c3bcec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a351619c57327b83d0c488650a6c3bcec">&#9670;&nbsp;</a></span>get_hospitailzations_per_day()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getHospitalizationData.get_hospitailzations_per_day </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>seven_days_values</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the daily cases of hospitalizations from the seven day sum. </p>
<p>A zero filled array is created where the one day data is stored. For each calculated daily case the copied array is adjusted to include only the remaining values. Whenever the seven day sum changes to the following day, the difference is the same as the daily case difference from last week. The computation can be done forward and backward. Both is done until the array is flattened. If there are constant cases left on each day, they are divided on each date by one seventh. After that, a few tests are done to check if all cases were distributed correctly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seven_days_values</td><td>Array. Total hospitalizations over the last seven days</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>daily_values Hospitalizations per day. </dd></dl>

</div>
</div>
<a id="aa150b040cd2bd288b61c2598042b20fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa150b040cd2bd288b61c2598042b20fd">&#9670;&nbsp;</a></span>get_hospitalization_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getHospitalizationData.get_hospitalization_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>read_data</em> = <code>dd.defaultDict['read_data']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_format</em> = <code>dd.defaultDict['file_format']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>out_folder</em> = <code>dd.defaultDict['out_folder']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>no_raw</em> = <code>dd.defaultDict['no_raw']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start_date</em> = <code>dd.defaultDict['start_date']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>end_date</em> = <code>dd.defaultDict['end_date']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>impute_dates</em> = <code>dd.defaultDict['impute_dates']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>moving_average</em> = <code>dd.defaultDict['moving_average']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>make_plot</em> = <code>dd.defaultDict['make_plot']</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Downloads or reads the RKI hospitalization data and writes them in different files. </p>
<p>Available data starts from 2020-03-01. If it does not already exist, the folder Germany is generated in the given out_folder. If read_data == True and the file "RKIHospitFull.json" exists, the data is read from this file and stored in a pandas dataframe. If read_data = True and the file does not exist the program is stopped.</p>
<p>The downloaded dataframe is written to the file "RKIHospitFull". After that, the columns are renamed to english. From the sum of the cases of the last seven days the daily cases are calculated. Afterwards, the data is stored in four different files: "hospit_state_age", "hospit_state", "hospit_germany_age" and "hospit_germany" for states or germany and age groups.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">read_data</td><td>True or False. Defines if data is read from file or downloaded. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">file_format</td><td>File format which is used for writing the data. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">out_folder</td><td>Folder where data is written to. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">no_raw</td><td>True or False. Defines if unchanged raw data is saved or not. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">start_date</td><td>Date of first date in dataframe. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">end_date</td><td>Date of last date in dataframe. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">impute_dates</td><td>True or False. Defines if values for dates without new information are imputed. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. Here Dates are always imputed so False changes nothing. </td></tr>
    <tr><td class="paramname">moving_average</td><td>[Currently not used] Integers &gt;=0. Applies an 'moving_average'-days moving average on all time series to smooth out weekend effects. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">make_plot</td><td>[currently not used] True or False. Defines if plots are generated with matplotlib. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3cd86bfafb86081c48b6e92d1f155caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cd86bfafb86081c48b6e92d1f155caf">&#9670;&nbsp;</a></span>hospit_sanity_checks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getHospitalizationData.hospit_sanity_checks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the sanity of the hospitalization_data dataframe. </p>
<p>Checks if type of the given data is a dataframe Checks if the headers of the dataframe are those which are needed</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df</td><td>The dataframe which has to be checked </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add526d215166b92c6c064815afc3c59c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add526d215166b92c6c064815afc3c59c">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getHospitalizationData.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main program entry. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
